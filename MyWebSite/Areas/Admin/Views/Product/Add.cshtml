@model MyWebSite.Models.Product
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewData["Title"] = "Add";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container py-5">
    <div class="row mb-5">
        <div class="col-md-8 mx-auto text-center">
            <h2 class="fw-light mb-4" style="font-size: 32px; letter-spacing: -0.5px;">Add Product</h2>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-md-7">
            <form asp-action="Add" method="post" enctype="multipart/form-data">
                <div class="bg-white rounded-4 shadow-sm p-5 mb-4">
                    <div class="mb-4">
                        <label asp-for="Name" class="form-label" style="font-size: 14px; color: #86868b;">Product Name</label>
                        <input asp-for="Name" class="form-control form-control-lg border-0 bg-light" style="height: 56px; border-radius: 12px;" />
                        <span asp-validation-for="Name" class="text-danger" style="font-size: 14px;"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="Price" class="form-label" style="font-size: 14px; color: #86868b;">Price</label>
                        <div class="input-group">
                            <span class="input-group-text border-0 bg-light" style="border-top-left-radius: 12px; border-bottom-left-radius: 12px;">$</span>
                            <input asp-for="Price" class="form-control form-control-lg border-0 bg-light" style="height: 56px; border-top-right-radius: 12px; border-bottom-right-radius: 12px;" />
                        </div>
                        <span asp-validation-for="Price" class="text-danger" style="font-size: 14px;"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="Description" class="form-label" style="font-size: 14px; color: #86868b;">Description</label>
                        <textarea asp-for="Description" class="form-control border-0 bg-light" style="border-radius: 12px; min-height: 150px;"></textarea>
                        <span asp-validation-for="Description" class="text-danger" style="font-size: 14px;"></span>
                    </div>

                    <div class="mb-4">
                        <label asp-for="CategoryId" class="form-label" style="font-size: 14px; color: #86868b;">Category</label>
                        <select id="categorySelect" asp-for="CategoryId" class="form-select form-select-lg border-0 bg-light" style="height: 56px; border-radius: 12px;" asp-items="ViewBag.Categories">
                            <option value="">-- Select a category --</option>
                        </select>
                        <span asp-validation-for="CategoryId" class="text-danger" style="font-size: 14px;"></span>
                    </div>

                    <div class="mb-4">
                        <div class="form-check mb-2">
                            <input type="checkbox" id="addNewCategory" class="form-check-input">
                            <label class="form-check-label" for="addNewCategory" style="font-size: 14px; color: #86868b;">Add new category</label>
                        </div>
                    </div>

                    <div id="newCategoryDiv" style="display:none;" class="mb-4">
                        <label for="newCategoryName" class="form-label" style="font-size: 14px; color: #86868b;">New Category Name</label>
                        <input type="text" id="newCategoryName" name="newCategoryName" class="form-control border-0 bg-light" style="height: 56px; border-radius: 12px;" />
                    </div>

                   

                    <div class="mb-4">
                        <label asp-for="ImageUrl" class="form-label" style="font-size: 14px; color: #86868b;">Product Image</label>
                        <div class="position-relative">
                            <button type="button" class="btn w-100 text-center py-3" style="background-color: #F5F5F7; color: #0066CC; border-radius: 12px; border: none;">
                                Choose File
                            </button>
                            <input type="file" asp-for="ImageUrl" accept="image/*" class="position-absolute top-0 start-0 opacity-0 w-100 h-100" style="cursor: pointer;" />
                        </div>
                        <p class="text-secondary mt-2 mb-0" style="font-size: 14px;">Recommended image size: 800×600 pixels</p>
                    </div>
                </div>

                <div class="d-grid gap-3">
                    <button type="submit" class="btn btn-lg py-3 text-white fw-normal" style="background-color: #0066CC; border-radius: 12px; border: none;">
                        Add Product
                    </button>
                    <a asp-action="Index" class="btn btn-lg py-3 fw-normal text-decoration-none" style="background-color: #F5F5F7; color: #1d1d1f; border-radius: 12px; border: none;">
                        Back to Products
                    </a>
                </div>
            </form>

            <div class="bg-white rounded-4 shadow-sm p-4 mt-4">
                <h3 class="fw-light mb-3" style="font-size: 20px; letter-spacing: -0.5px;">Tips for Adding Products</h3>

                <div class="d-flex align-items-center mb-3">
                    <div class="rounded-circle flex-shrink-0 me-3" style="background-color: #F5F5F7; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-image" style="color: #0066CC;"></i>
                    </div>
                    <p class="mb-0" style="color: #1d1d1f;">Use high-quality images with clear backgrounds</p>
                </div>

                <div class="d-flex align-items-center mb-3">
                    <div class="rounded-circle flex-shrink-0 me-3" style="background-color: #F5F5F7; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-text-paragraph" style="color: #0066CC;"></i>
                    </div>
                    <p class="mb-0" style="color: #1d1d1f;">Write detailed descriptions for better searchability</p>
                </div>

                <div class="d-flex align-items-center">
                    <div class="rounded-circle flex-shrink-0 me-3" style="background-color: #F5F5F7; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-tag" style="color: #0066CC;"></i>
                    </div>
                    <p class="mb-0" style="color: #1d1d1f;">Choose the appropriate category for your product</p>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
<script>
    document.getElementById('addNewCategory').addEventListener('change', function() {
        var categorySelect = document.getElementById('categorySelect');
        var newCategoryDiv = document.getElementById('newCategoryDiv');

        if (this.checked) {
            categorySelect.disabled = true;
            newCategoryDiv.style.display = 'block';
            document.getElementById('CategoryId').value = '';
        } else {
            categorySelect.disabled = false;
            newCategoryDiv.style.display = 'none';
        }
    });
</script>